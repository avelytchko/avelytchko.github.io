<!DOCTYPE html>
<html lang="ru"
>
<head>
    <title>Установка Ruhoh - Alexander's Blog</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="/ruhoh-install.html">

        <meta name="author" content="Alexander Velytchko" />
        <meta name="keywords" content="ruhoh,publishing" />
        <meta name="description" content="Ruhoh - это статический генератор сайтов, написанный на Ruby. Установка Для Ruhoh нужен ruby и git. В Debian/Ubuntu устанавливается с помощью apt-get, в среде Windows нужно скачать инсталляторы Ruby и DevKit с rubyinstaller.org и git с git-scm.com. $ sudo apt-get install ruby ruby-dev git gcc libxml2-dev libxslt1-dev zlib1g-dev Установка ..." />

        <meta property="og:site_name" content="Alexander's Blog" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="Установка Ruhoh"/>
        <meta property="og:url" content="/ruhoh-install.html"/>
        <meta property="og:description" content="Ruhoh - это статический генератор сайтов, написанный на Ruby. Установка Для Ruhoh нужен ruby и git. В Debian/Ubuntu устанавливается с помощью apt-get, в среде Windows нужно скачать инсталляторы Ruby и DevKit с rubyinstaller.org и git с git-scm.com. $ sudo apt-get install ruby ruby-dev git gcc libxml2-dev libxslt1-dev zlib1g-dev Установка ..."/>
        <meta property="article:published_time" content="2013-10-03" />
            <meta property="article:section" content="Ruby" />
            <meta property="article:tag" content="ruhoh" />
            <meta property="article:tag" content="publishing" />
            <meta property="article:author" content="Alexander Velytchko" />


    <!-- Bootstrap -->
        <link rel="stylesheet" href="/theme/css/bootstrap.min.css" type="text/css"/>
    <link href="/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="/theme/css/pygments/manni.css" rel="stylesheet">
    <link rel="stylesheet" href="/theme/css/style.css" type="text/css"/>


</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="/" class="navbar-brand">
Alexander's Blog            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                        <li >
                            <a href="/category/linux.html">Linux</a>
                        </li>
                        <li >
                            <a href="/category/python.html">Python</a>
                        </li>
                        <li class="active">
                            <a href="/category/ruby.html">Ruby</a>
                        </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-sm-9">

    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="/ruhoh-install.html"
                       rel="bookmark"
                       title="Permalink to Установка Ruhoh">
                        Установка Ruhoh
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2013-10-03T15:00:00+03:00"> Thu 03 October 2013</time>
    </span>



<span class="label label-default">Tags</span>
	<a href="/tag/ruhoh.html">ruhoh</a>
        /
	<a href="/tag/publishing.html">publishing</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <p>Ruhoh - это статический генератор сайтов, написанный на Ruby.</p>
<h4>Установка</h4>
<p>Для Ruhoh нужен ruby и git. В Debian/Ubuntu устанавливается с помощью apt-get, в среде Windows нужно скачать инсталляторы Ruby и DevKit с <a href="http://rubyinstaller.org/downloads/">rubyinstaller.org</a> и git с <a href="http://git-scm.com/downloads">git-scm.com</a>.</p>
<div class="highlight"><pre><span class="nv">$ </span>sudo apt-get install ruby ruby-dev git gcc libxml2-dev libxslt1-dev zlib1g-dev
</pre></div>


<p>Установка Ruhoh хорошо описана на <a href="http://ruhoh.com/docs/2/installation/">официальном сайте</a> и состоит из следующих пунктов:</p>
<div class="highlight"><pre><span class="nv">$ </span>sudo gem install bundler
<span class="nv">$ </span>mkdir ruhoh-site
<span class="nv">$ </span><span class="nb">cd </span>ruhoh-site
<span class="nv">$ </span><span class="nb">echo</span> <span class="s2">&quot;source \&quot;https://rubygems.org\&quot;&quot;</span> &gt;&gt; Gemfile
<span class="nv">$ </span><span class="nb">echo</span> <span class="s2">&quot;gem &#39;ruhoh&#39;, \&quot;~&gt; 2\&quot;&quot;</span> &gt;&gt; Gemfile
<span class="nv">$ </span>bundle install
</pre></div>


<p>Если все зависимости и установка прошла без ошибок, можно запустить встроенный в Ruhoh веб-сервер и посмотреть что получилось, открыв в браузере <a href="http://localhost:9292">http://localhost:9292</a></p>
<div class="highlight"><pre><span class="nv">$ </span>bundle <span class="nb">exec </span>ruhoh server 9292
</pre></div>


<p>Пока это каркас, хотя уже и вполне рабочий, но для полноценного блога/сайта лучше установить тему, предварительно настроив git (добавить <code>~/.ssh/id_rsa.pub</code> в Github аккаунт):</p>
<div class="highlight"><pre><span class="nv">$ </span>ssh-keygen
<span class="nv">$ </span><span class="nb">eval</span> <span class="sb">`</span>ssh-agent<span class="sb">`</span>
<span class="nv">$ </span>ssh-add
<span class="nv">$ </span>git clone git@github.com:ruhoh/theme-bootstrap-2.git theme-bootstrap-2
<span class="nv">$ </span><span class="nb">echo</span> <span class="s2">&quot;\&quot;theme-bootstrap-2\&quot; :&quot;</span> &gt; config.yml
<span class="nv">$ </span><span class="nb">echo</span> <span class="s2">&quot;  \&quot;use\&quot; : \&quot;theme\&quot;&quot;</span> &gt;&gt; config.yml
</pre></div>


<p>Изменить значения по умолчанию можно с помощью файла <code>data.yml</code> в директории <code>theme-bootstrap-2</code>:</p>
<div class="highlight"><pre><span class="l-Scalar-Plain">title</span> <span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Site Title</span>
<span class="l-Scalar-Plain">tagline</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Site Tagline</span>
<span class="l-Scalar-Plain">author</span> <span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">name</span> <span class="p-Indicator">:</span> <span class="l-Scalar-Plain">First-name Last-name</span>
  <span class="l-Scalar-Plain">email</span> <span class="p-Indicator">:</span> <span class="l-Scalar-Plain">blah@email.test</span>
  <span class="l-Scalar-Plain">github</span> <span class="p-Indicator">:</span> <span class="l-Scalar-Plain">username</span>
  <span class="l-Scalar-Plain">twitter</span> <span class="p-Indicator">:</span> <span class="l-Scalar-Plain">username</span>
  <span class="l-Scalar-Plain">feedburner</span> <span class="p-Indicator">:</span> <span class="l-Scalar-Plain">feedname</span>

<span class="l-Scalar-Plain">navigation</span> <span class="p-Indicator">:</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">archive</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">tags</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">categories</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">pages</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">about</span>
</pre></div>


<p>Создание новых страниц происходит автоматически при открытии несуществующего url в браузере, например <a href="http://localhost:9292/posts/new-post">http://localhost:9292/posts/new-post</a> или вручную, создавая соответствуюшие файлы в структуре каталога. Используется разметка <a href="http://daringfireball.net/projects/markdown">markdown</a> (<a href="http://markable.in/file/aa191728-9dc7-11e1-91c7-984be164924a/">шпаргалка</a>). Детальнее про создание страниц, включая использование коммандной строки, в <a href="http://ruhoh.com/docs/2/pages/">официальной документации</a>.</p>
<hr />
<h4>Публикация</h4>
<p>Ruhoh может публиковать сайт с помощью rsync на удаленный сервер и на Github благодаря плагину github.rb. Для настройки rsync нужно создать файл <code>publish.json</code>:</p>
<div class="highlight"><pre><span class="p">{</span>
    <span class="nt">&quot;rsync&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;user&quot;</span> <span class="p">:</span> <span class="s2">&quot;rand&quot;</span><span class="p">,</span>
        <span class="nt">&quot;host&quot;</span> <span class="p">:</span> <span class="s2">&quot;198.35.45.210&quot;</span><span class="p">,</span>
        <span class="nt">&quot;destination&quot;</span> <span class="p">:</span> <span class="s2">&quot;/var/www/rand.kiev.ua/cate&quot;</span><span class="p">,</span>
        <span class="nt">&quot;command&quot;</span> <span class="p">:</span> <span class="s2">&quot;rsync compiled/. -avz --delete --chmod=Du=rwx,Dg=rx,Do=rx,Fu=rw,Fg=r,Fo=r --exclude .git rand@198.35.45.210:/var/www/rand.kiev.ua/cate&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>Аттрибут <code>"command"</code> опциональный, в примере выше он необходим для корректного выставления прав на директории и файлы из среды Windows. Чтобы после публикации ссылки были корректные, нужно отредактировать <code>config.yml</code>, если сайт будет располагаться не в корне.</p>
<div class="highlight"><pre># config.yml
base_path: &quot;/blog&quot;
production_url : &#39;http://cate.rand.kiev.ua/blog&#39;
</pre></div>


<p>Поддержка Github'а все еще экспериментальная. Плагин (актульно для версии Ruhoh 2.6) <a href="https://gist.github.com/jaimalchohan/8090954">github.rb</a> нужно сохранить в директорию <code>plugins/publish</code>. Далее будет описываться процесс для публикации сайта в корень username.github.io. Директорию ruhoh-site необходимо переименовать в username.github.com и инициализировать внутри репозиторий с бранчем <code>gh-pages</code>. Почему именно так - объясняется на <a href="https://help.github.com/articles/creating-project-pages-manually">Github</a>.</p>
<div class="highlight"><pre><span class="nv">$ </span><span class="nb">cd </span>avelytchko.github.io
<span class="nv">$ </span>rm -rf theme-bootstrap-2/.git/
<span class="nv">$ </span>git init
<span class="nv">$ </span>git add .
<span class="nv">$ </span>git checkout --orphan gh-pages
<span class="nv">$ </span>git commit -m <span class="s2">&quot;first commit&quot;</span>
<span class="nv">$ </span>git remote add origin git@github.com:avelytchko/avelytchko.github.io.git
<span class="nv">$ </span>bundle <span class="nb">exec </span>ruhoh publish github
</pre></div>


<p>Если все сделано верно, через несколько минут на Github'е появится статичный сайт, скомпилированный ruhoh. Для изменения старых или добавления новых страниц, нужно воспользоваться коммандой ниже, не забывая при этом, что бранч по умолчанию - <code>gh-pages</code>.</p>
<div class="highlight"><pre><span class="nv">$ </span>git add .
<span class="nv">$ </span>git commit -m <span class="s2">&quot;minor changes&quot;</span>
<span class="nv">$ </span>bundle <span class="nb">exec </span>ruhoh publish github
</pre></div>
            </div>
            <!-- /.entry-content -->
    <hr/>
    <section class="comments" id="comments">
        <h2>Comments</h2>

        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'avelytchko'; // required: replace example with your forum shortname

                    var disqus_identifier = 'ruhoh-install';
                var disqus_url = '/ruhoh-install.html';

            var disqus_config = function () {
                this.language = "ru";
            };

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </section>
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>

<section class="well well-sm">
    <ul class="list-group list-group-flush">
            <li class="list-group-item"><h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Social</span></h4>
              <ul class="list-group" id="social">
                <li class="list-group-item"><a href="https://twitter.com/avelytchko"><i class="fa fa-twitter-square fa-lg"></i> twitter</a></li>
                <li class="list-group-item"><a href="http://www.lastfm.ru/user/thefoundreason"><i class="fa fa-lastfm-square fa-lg"></i> lastfm</a></li>
                <li class="list-group-item"><a href="http://ua.linkedin.com/pub/alexander-velytchko/89/309/b65/"><i class="fa fa-linkedin-square fa-lg"></i> linkedin</a></li>
              </ul>
            </li>



            <li class="list-group-item"><a href="/"><h4><i class="fa fa-tags fa-lg"></i><span class="icon-label">Tags</span></h4></a>
                <ul class="list-group " id="tags">
                    <li class="list-group-item tag-1">
                        <a href="/tag/linux.html">
                            linux
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="/tag/nginx.html">
                            nginx
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="/tag/publishing.html">
                            publishing
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="/tag/pelican.html">
                            pelican
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="/tag/network.html">
                            network
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="/tag/ruhoh.html">
                            ruhoh
                        </a>
                    </li>
                </ul>
            </li>
    <li class="list-group-item"><h4><i class="fa fa-external-link-square fa-lg"></i><span class="icon-label">Links</span></h4>
      <ul class="list-group" id="links">
        <li class="list-group-item">
            <a href="http://getpelican.com/" target="_blank">
                Pelican
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://python.org/" target="_blank">
                Python.org
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://jinja.pocoo.org/" target="_blank">
                Jinja2
            </a>
        </li>
        <li class="list-group-item">
            <a href="#" target="_blank">
                You can modify those links in your config file
            </a>
        </li>
      </ul>
    </li>
    </ul>
</section>
            </aside>
        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2015 Alexander Velytchko
            &middot; Powered by <a href="https://github.com/DandyDev/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="/theme/js/respond.min.js"></script>

    <!-- Disqus -->
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'avelytchko'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <!-- End Disqus Code -->

</body>
</html>